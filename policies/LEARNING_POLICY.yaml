# StillMe Learning Policy
# ======================
# 
# This policy defines the rules and guidelines for self-learning
# and collaborative learning within the StillMe AI Framework.
#
# Author: StillMe AI Framework Team
# Version: 1.0.0
# Last Updated: 2025-01-27

# Learning Governance Rules
governance:
  # Dataset Integration Rules
  dataset_integration:
    # Minimum test pass rate for community datasets
    min_test_pass_rate: 0.90  # 90%
    
    # Maximum allowed ethics violations
    max_ethics_violations: 0  # Zero tolerance
    
    # Maximum rollback count per learning cycle
    max_rollbacks_per_cycle: 3
    
    # Minimum quality score for datasets
    min_quality_score: 0.80  # 80%
    
    # Minimum ethics score for datasets
    min_ethics_score: 0.90  # 90%
    
    # Maximum file size for community datasets (MB)
    max_file_size_mb: 100
    
    # Minimum record count for datasets
    min_record_count: 10

  # Learning Rate Control
  learning_rate_control:
    # Base learning rate
    base_learning_rate: 0.1
    
    # Maximum learning rate
    max_learning_rate: 0.5
    
    # Minimum learning rate
    min_learning_rate: 0.01
    
    # Rollback penalty factor (multiply by this when rollback occurs)
    rollback_penalty_factor: 0.8
    
    # Reward boost factor (multiply by this when high performance)
    reward_boost_factor: 1.2
    
    # Stability threshold for strategy changes
    stability_threshold: 0.7
    
    # Adaptation frequency (hours)
    adaptation_frequency_hours: 24

  # Safety and Ethics
  safety_ethics:
    # Required safety checks before learning updates
    required_safety_checks:
      - ethics_guard_validation
      - content_integrity_check
      - privacy_compliance_check
      - security_vulnerability_scan
    
    # Prohibited content types
    prohibited_content:
      - harmful_violence
      - hate_speech
      - discrimination
      - explicit_content
      - misinformation
      - personal_identifiable_information
    
    # Required opt-in flags
    opt_in_requirements:
      collaborative_learning: true  # --enable-collab-learning
      meta_learning: true          # --enable-meta-learning
      experimental_features: true  # --enable-experimental

  # Validation and Testing
  validation_testing:
    # Required test coverage for learning modules
    min_test_coverage: 0.90  # 90%
    
    # Required test types
    required_test_types:
      - unit_tests
      - integration_tests
      - ethics_tests
      - security_tests
      - performance_tests
    
    # Validation timeout (seconds)
    validation_timeout: 300  # 5 minutes
    
    # Maximum validation retries
    max_validation_retries: 3

  # Audit and Logging
  audit_logging:
    # Required log levels
    required_log_levels:
      - INFO
      - WARNING
      - ERROR
      - CRITICAL
    
    # Required log events
    required_log_events:
      - learning_session_start
      - learning_session_end
      - dataset_validation
      - dataset_merge
      - rollback_operation
      - ethics_violation
      - security_incident
    
    # Log retention period (days)
    log_retention_days: 90
    
    # Audit trail requirements
    audit_trail_required: true

  # Community Guidelines
  community_guidelines:
    # Contributor requirements
    contributor_requirements:
      - valid_identity_verification
      - agreement_to_code_of_conduct
      - understanding_of_ethics_guidelines
    
    # Dataset contribution rules
    dataset_contribution:
      - must_be_original_or_properly_licensed
      - must_include_metadata_and_documentation
      - must_pass_all_validation_checks
      - must_not_contain_proprietary_or_sensitive_data
    
    # Review process
    review_process:
      - automated_validation_first
      - human_review_for_edge_cases
      - community_feedback_period
      - final_approval_by_maintainers

# Feature Flags
feature_flags:
  # Experimental features (disabled by default)
  experimental:
    meta_learning: false
    collaborative_learning: false
    advanced_rollback: false
    cross_validation: false
  
  # Production features (enabled by default)
  production:
    basic_learning: true
    safety_checks: true
    audit_logging: true
    rollback_mechanism: true

# Compliance Requirements
compliance:
  # GDPR-like requirements
  privacy:
    data_minimization: true
    consent_required: true
    right_to_erasure: true
    data_portability: true
  
  # Security requirements
  security:
    encryption_at_rest: true
    encryption_in_transit: true
    access_control: true
    vulnerability_scanning: true
  
  # Ethical AI requirements
  ethical_ai:
    fairness_monitoring: true
    bias_detection: true
    transparency_requirements: true
    human_oversight: true

# Enforcement
enforcement:
  # Policy violation responses
  violation_responses:
    minor_violation:
      - log_warning
      - notify_contributor
      - require_correction
    
    major_violation:
      - log_error
      - block_operation
      - require_manual_review
      - notify_maintainers
    
    critical_violation:
      - log_critical
      - immediate_block
      - security_alert
      - incident_response
    
  # Escalation procedures
  escalation:
    - automated_detection
    - human_review
    - maintainer_decision
    - community_consensus
    - final_authority

# Monitoring and Metrics
monitoring:
  # Required metrics
  required_metrics:
    - learning_effectiveness
    - safety_compliance
    - performance_impact
    - user_satisfaction
    - system_stability
  
  # Alert thresholds
  alert_thresholds:
    ethics_violation_rate: 0.01  # 1%
    rollback_rate: 0.20         # 20%
    performance_degradation: 0.10  # 10%
    error_rate: 0.05           # 5%
  
  # Reporting frequency
  reporting:
    real_time_alerts: true
    daily_summaries: true
    weekly_reports: true
    monthly_audits: true

# Version Control
version_control:
  # Policy version
  version: "1.0.0"
  
  # Effective date
  effective_date: "2025-01-27"
  
  # Review schedule
  review_schedule: "quarterly"
  
  # Change management
  change_management:
    - proposal_phase
    - review_phase
    - approval_phase
    - implementation_phase
    - monitoring_phase
