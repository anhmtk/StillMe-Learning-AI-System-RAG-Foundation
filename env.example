# StillMe - Learning AI system with RAG foundation Environment Configuration

# =============================================================================
# API Configuration
# =============================================================================
DEEPSEEK_API_KEY=sk-REPLACE_ME_WITH_YOUR_DEEPSEEK_KEY
OPENAI_API_KEY=sk-REPLACE_ME_WITH_YOUR_OPENAI_KEY

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_URL=sqlite:///./data/stillme.db

# =============================================================================
# Server Configuration
# =============================================================================
# PORT is set by Railway automatically, but can be overridden for local development
PORT=8000
BACKEND_HOST=localhost
BACKEND_PORT=8000
FRONTEND_PORT=8501

# =============================================================================
# Learning Configuration
# =============================================================================
LEARNING_ENABLED=true
AUTO_APPROVAL_THRESHOLD=0.8
TRUST_SCORE_THRESHOLD=0.7

# =============================================================================
# Notification Configuration
# =============================================================================
EMAIL_SMTP_SERVER=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=your_email@gmail.com
EMAIL_PASSWORD=REPLACE_ME_WITH_YOUR_APP_PASSWORD
TELEGRAM_BOT_TOKEN=REPLACE_ME_WITH_YOUR_BOT_TOKEN
TELEGRAM_CHAT_ID=REPLACE_ME_WITH_YOUR_CHAT_ID

# =============================================================================
# Notification Settings
# =============================================================================
NOTIFY_LEARNING_SESSIONS=true
NOTIFY_ERRORS=true
NOTIFY_SYSTEM_EVENTS=true

# =============================================================================
# Security Configuration
# =============================================================================
SECRET_KEY=REPLACE_ME_WITH_SECRET_KEY
ENCRYPTION_KEY=REPLACE_ME_WITH_ENCRYPTION_KEY

# API Authentication
# Set this to protect sensitive endpoints (database reset, scheduler control, etc.)
# If not set, authentication is disabled (development only - NOT for production!)
STILLME_API_KEY=REPLACE_ME_WITH_API_KEY

# CORS Configuration
# Comma-separated list of allowed origins (e.g., "https://yourdomain.com,https://app.yourdomain.com")
# If not set, defaults to localhost only (development)
# Example: CORS_ALLOWED_ORIGINS=https://stillme.example.com,https://dashboard.stillme.example.com
CORS_ALLOWED_ORIGINS=

# =============================================================================
# Validator Chain Configuration (v0.6.4+)
# =============================================================================
# Enable validator chain to reduce hallucinations by 80%
ENABLE_VALIDATORS=false
ENABLE_TONE_ALIGN=true
# Evidence overlap threshold (lowered from 0.08 to 0.01 to prevent false positives
# when LLM translates/summarizes content, reducing vocabulary overlap)
VALIDATOR_EVIDENCE_THRESHOLD=0.01
VALIDATOR_CITATION_REQUIRED=true
STILLME_TONE_STYLE=neutral

# =============================================================================
# Persistent Cache Configuration (Railway/Production)
# =============================================================================
# Path to persistent volume for HuggingFace/SentenceTransformer model cache
# This prevents re-downloading models on every restart/redeploy
# On Railway: Set this to match railway.json volume mount path
# Example: PERSISTENT_CACHE_PATH=/app/hf_cache
# Alternative: Use HF_CACHE_PATH for custom HuggingFace cache location
PERSISTENT_CACHE_PATH=/app/hf_cache
HF_CACHE_PATH=

# =============================================================================
# ChromaDB Auto-Reset Configuration
# =============================================================================
# Force reset ChromaDB database on startup (useful for fixing schema mismatch errors)
# Set to "true" to automatically delete and recreate vector_db directory on startup
# WARNING: This will delete all vector database data!
# Example: FORCE_DB_RESET_ON_STARTUP=true
FORCE_DB_RESET_ON_STARTUP=false

# =============================================================================
# Development Configuration
# =============================================================================
DEBUG=false
LOG_LEVEL=INFO
ENVIRONMENT=production
