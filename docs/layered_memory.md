
# LayeredMemory_v1 Module Documentation

## Overview
Bộ nhớ phân tầng cho AI – ghi nhớ thông tin tạm thời, dài hạn, cảm xúc, và sự kiện theo lớp. Đây là não bộ trung tâm giúp AI phản hồi có chiều sâu và logic.

## Core Functions
- `store_memory(data, layer='short_term')`: Auto-generated function
- `retrieve_memory(query, layer='auto')`: Auto-generated function
- `forget_memory(layer=_none, keyword=_none)`: Auto-generated function
- `summarize_layer(layer='long_term')`: Auto-generated function
- `inject_memory_directly(memory_blob, layer='manual')`: Auto-generated function


## Usage Example
```python
from modules.layered_memory import Layeredmemory, LayeredmemoryConfig

# Initialize configuration
config = LayeredmemoryConfig(
        store_memory(data, layer='short_term')_param=None,  # Configure store_memory(data, layer='short_term')
    retrieve_memory(query, layer='auto')_param=None,  # Configure retrieve_memory(query, layer='auto')
    forget_memory(layer=_none, keyword=_none)_param=None,  # Configure forget_memory(layer=None, keyword=None)
    summarize_layer(layer='long_term')_param=None,  # Configure summarize_layer(layer='long_term')
    inject_memory_directly(memory_blob, layer='manual')_param=None,  # Configure inject_memory_directly(memory_blob, layer='manual')

)

# Create module instance
module = Layeredmemory(config)

# Example usage
module.store_memory(data, layer='short_term')()  # Example store_memory(data, layer='short_term') call
module.retrieve_memory(query, layer='auto')()  # Example retrieve_memory(query, layer='auto') call
module.forget_memory(layer=_none, keyword=_none)()  # Example forget_memory(layer=None, keyword=None) call
module.summarize_layer(layer='long_term')()  # Example summarize_layer(layer='long_term') call
module.inject_memory_directly(memory_blob, layer='manual')()  # Example inject_memory_directly(memory_blob, layer='manual') call

```

## Dependencies
- Internal: None
- External: json, datetime, uuid, threading

## Estimated Complexity
4 (1-5, 5 being most complex)

## Security Level
critical

## Constraints
```json
{
  "memory_limit_per_layer_mb": 50,
  "max_entries_short_term": 1000,
  "auto_forget_policy": true
}
```

## Usage Context
Được gọi bởi tất cả modules cần truy xuất thông tin người dùng hoặc nội dung AI đã từng xử lý.

## Failure Modes
- Không retrieve đúng memory do sai layer
- Quên mất dữ liệu quan trọng vì auto-forget quá sớm
- Memory bị overwrite do trùng UUID hoặc lỗi lock thread
- Memory injection sai format → crash toàn hệ thống


## Notes
- Layer gồm: short_term, long_term, emotional, event_log, manual
- Phải đảm bảo thread-safe trong multi-thread môi trường async
- Sau này có thể tích hợp SQLite hoặc Redis nếu cần persistence


---
*Auto-generated by AutoModuleBuilder on 2025-07-15 09:24:53*
