{"ast":null,"code":"var _jsxFileName = \"D:\\\\stillme_ai\\\\stillme_platform\\\\desktop\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\n// StillMe Desktop - Professional Chat Interface\nimport React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [messageText, setMessageText] = useState('');\n  const [connectionStatus, setConnectionStatus] = useState('connecting');\n  const [wsStatus, setWsStatus] = useState('Connecting...');\n  const messagesEndRef = useRef(null);\n  const wsRef = useRef(null);\n\n  // Auto scroll to bottom\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // WebSocket connection\n  useEffect(() => {\n    const connectWebSocket = () => {\n      try {\n        const ws = new WebSocket('ws://localhost:8000/ws/desktop-client');\n        wsRef.current = ws;\n        ws.onopen = () => {\n          console.log('âœ… Desktop WebSocket connected');\n          setConnectionStatus('connected');\n          setWsStatus('Connected to Gateway');\n\n          // Add system message\n          const systemMessage = {\n            id: Date.now().toString(),\n            message: 'Connected to StillMe Gateway successfully!',\n            timestamp: new Date().toISOString(),\n            from: 'system',\n            type: 'system'\n          };\n          setMessages(prev => [...prev, systemMessage]);\n        };\n        ws.onmessage = event => {\n          try {\n            const data = JSON.parse(event.data);\n            console.log('ðŸ“¨ Received message:', data);\n            if (data.type === 'message') {\n              const newMessage = {\n                id: Date.now().toString() + Math.random(),\n                message: data.data.message,\n                timestamp: data.timestamp || new Date().toISOString(),\n                from: data.from || 'mobile-client',\n                type: 'received'\n              };\n              setMessages(prev => [...prev, newMessage]);\n            }\n          } catch (error) {\n            console.error('âŒ Error parsing message:', error);\n          }\n        };\n        ws.onclose = () => {\n          console.log('âŒ Desktop WebSocket disconnected');\n          setConnectionStatus('disconnected');\n          setWsStatus('Disconnected from Gateway');\n\n          // Add system message\n          const systemMessage = {\n            id: Date.now().toString(),\n            message: 'Disconnected from Gateway. Attempting to reconnect...',\n            timestamp: new Date().toISOString(),\n            from: 'system',\n            type: 'system'\n          };\n          setMessages(prev => [...prev, systemMessage]);\n\n          // Reconnect after 3 seconds\n          setTimeout(connectWebSocket, 3000);\n        };\n        ws.onerror = error => {\n          console.error('âŒ WebSocket error:', error);\n          setConnectionStatus('disconnected');\n          setWsStatus('Connection Error');\n        };\n      } catch (error) {\n        console.error('âŒ Failed to connect WebSocket:', error);\n        setConnectionStatus('disconnected');\n        setWsStatus('Connection Failed');\n      }\n    };\n    connectWebSocket();\n\n    // Cleanup\n    return () => {\n      if (wsRef.current) {\n        wsRef.current.close();\n      }\n    };\n  }, []);\n\n  // HTTP Polling fallback\n  useEffect(() => {\n    if (connectionStatus === 'connected') return;\n    const pollForMessages = async () => {\n      try {\n        const response = await fetch('http://localhost:8000/messages/desktop-client');\n        if (response.ok) {\n          const data = await response.json();\n          if (data.messages && data.messages.length > 0) {\n            data.messages.forEach(msg => {\n              const newMessage = {\n                id: Date.now().toString() + Math.random(),\n                message: msg.message,\n                timestamp: msg.timestamp,\n                from: msg.from,\n                type: 'received'\n              };\n              setMessages(prev => [...prev, newMessage]);\n            });\n          }\n        }\n      } catch (error) {\n        console.error('âŒ Polling error:', error);\n      }\n    };\n    const interval = setInterval(pollForMessages, 3000);\n    return () => clearInterval(interval);\n  }, [connectionStatus]);\n  const sendMessage = async () => {\n    if (!messageText.trim()) return;\n    const newMessage = {\n      id: Date.now().toString(),\n      message: messageText,\n      timestamp: new Date().toISOString(),\n      from: 'desktop-client',\n      type: 'sent'\n    };\n    setMessages(prev => [...prev, newMessage]);\n    setMessageText('');\n    try {\n      // Send to StillMe AI via HTTP POST\n      const response = await fetch('http://localhost:8000/send-message', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          target: 'stillme-ai',\n          from: 'desktop-client',\n          message: messageText,\n          timestamp: new Date().toISOString()\n        })\n      });\n      if (response.ok) {\n        console.log('âœ… Message sent successfully');\n      } else {\n        console.error('âŒ Failed to send message');\n      }\n    } catch (error) {\n      console.error('âŒ Error sending message:', error);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logo-shield\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"logo-s\",\n              children: \"S\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logo-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"StillMe AI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Desktop Chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `status-indicator ${connectionStatus}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-text\",\n            children: wsStatus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messages-container\",\n      children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-icon\",\n          children: \"\\uD83D\\uDCAC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Welcome to StillMe AI Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Start a conversation with your mobile device!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this) : messages.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `message ${msg.type}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-text\",\n            children: msg.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-time\",\n            children: new Date(msg.timestamp).toLocaleTimeString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 15\n        }, this)\n      }, msg.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: messageText,\n          onChange: e => setMessageText(e.target.value),\n          onKeyPress: handleKeyPress,\n          placeholder: \"Type your message here...\",\n          className: \"message-input\",\n          rows: 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: sendMessage,\n          disabled: !messageText.trim(),\n          className: \"send-button\",\n          children: \"\\u27A4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 193,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"LtB+nG4ANt3/NZiKyiPa5rNdUDg=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","App","_s","messages","setMessages","messageText","setMessageText","connectionStatus","setConnectionStatus","wsStatus","setWsStatus","messagesEndRef","wsRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","connectWebSocket","ws","WebSocket","onopen","console","log","systemMessage","id","Date","now","toString","message","timestamp","toISOString","from","type","prev","onmessage","event","data","JSON","parse","newMessage","Math","random","error","onclose","setTimeout","onerror","close","pollForMessages","response","fetch","ok","json","length","forEach","msg","interval","setInterval","clearInterval","sendMessage","trim","method","headers","body","stringify","target","handleKeyPress","e","key","shiftKey","preventDefault","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","toLocaleTimeString","ref","value","onChange","onKeyPress","placeholder","rows","onClick","disabled","_c","$RefreshReg$"],"sources":["D:/stillme_ai/stillme_platform/desktop/src/App.tsx"],"sourcesContent":["// StillMe Desktop - Professional Chat Interface\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport './App.css';\r\n\r\ninterface Message {\r\n  id: string;\r\n  message: string;\r\n  timestamp: string;\r\n  from: string;\r\n  type: 'sent' | 'received' | 'system';\r\n}\r\n\r\nfunction App() {\r\n  const [messages, setMessages] = useState<Message[]>([]);\r\n  const [messageText, setMessageText] = useState('');\r\n  const [connectionStatus, setConnectionStatus] = useState<'connecting' | 'connected' | 'disconnected'>('connecting');\r\n  const [wsStatus, setWsStatus] = useState('Connecting...');\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n  const wsRef = useRef<WebSocket | null>(null);\r\n\r\n  // Auto scroll to bottom\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  // WebSocket connection\r\n  useEffect(() => {\r\n    const connectWebSocket = () => {\r\n      try {\r\n        const ws = new WebSocket('ws://localhost:8000/ws/desktop-client');\r\n        wsRef.current = ws;\r\n\r\n        ws.onopen = () => {\r\n          console.log('âœ… Desktop WebSocket connected');\r\n          setConnectionStatus('connected');\r\n          setWsStatus('Connected to Gateway');\r\n          \r\n          // Add system message\r\n          const systemMessage: Message = {\r\n            id: Date.now().toString(),\r\n            message: 'Connected to StillMe Gateway successfully!',\r\n            timestamp: new Date().toISOString(),\r\n            from: 'system',\r\n            type: 'system'\r\n          };\r\n          setMessages(prev => [...prev, systemMessage]);\r\n        };\r\n\r\n        ws.onmessage = (event) => {\r\n          try {\r\n            const data = JSON.parse(event.data);\r\n            console.log('ðŸ“¨ Received message:', data);\r\n            \r\n            if (data.type === 'message') {\r\n              const newMessage: Message = {\r\n                id: Date.now().toString() + Math.random(),\r\n                message: data.data.message,\r\n                timestamp: data.timestamp || new Date().toISOString(),\r\n                from: data.from || 'mobile-client',\r\n                type: 'received'\r\n              };\r\n              setMessages(prev => [...prev, newMessage]);\r\n            }\r\n          } catch (error) {\r\n            console.error('âŒ Error parsing message:', error);\r\n          }\r\n        };\r\n\r\n        ws.onclose = () => {\r\n          console.log('âŒ Desktop WebSocket disconnected');\r\n          setConnectionStatus('disconnected');\r\n          setWsStatus('Disconnected from Gateway');\r\n          \r\n          // Add system message\r\n          const systemMessage: Message = {\r\n            id: Date.now().toString(),\r\n            message: 'Disconnected from Gateway. Attempting to reconnect...',\r\n            timestamp: new Date().toISOString(),\r\n            from: 'system',\r\n            type: 'system'\r\n          };\r\n          setMessages(prev => [...prev, systemMessage]);\r\n          \r\n          // Reconnect after 3 seconds\r\n          setTimeout(connectWebSocket, 3000);\r\n        };\r\n\r\n        ws.onerror = (error) => {\r\n          console.error('âŒ WebSocket error:', error);\r\n          setConnectionStatus('disconnected');\r\n          setWsStatus('Connection Error');\r\n        };\r\n\r\n      } catch (error) {\r\n        console.error('âŒ Failed to connect WebSocket:', error);\r\n        setConnectionStatus('disconnected');\r\n        setWsStatus('Connection Failed');\r\n      }\r\n    };\r\n\r\n    connectWebSocket();\r\n\r\n    // Cleanup\r\n    return () => {\r\n      if (wsRef.current) {\r\n        wsRef.current.close();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // HTTP Polling fallback\r\n  useEffect(() => {\r\n    if (connectionStatus === 'connected') return;\r\n\r\n    const pollForMessages = async () => {\r\n      try {\r\n        const response = await fetch('http://localhost:8000/messages/desktop-client');\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          if (data.messages && data.messages.length > 0) {\r\n            data.messages.forEach((msg: any) => {\r\n              const newMessage: Message = {\r\n                id: Date.now().toString() + Math.random(),\r\n                message: msg.message,\r\n                timestamp: msg.timestamp,\r\n                from: msg.from,\r\n                type: 'received'\r\n              };\r\n              setMessages(prev => [...prev, newMessage]);\r\n            });\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('âŒ Polling error:', error);\r\n      }\r\n    };\r\n\r\n    const interval = setInterval(pollForMessages, 3000);\r\n    return () => clearInterval(interval);\r\n  }, [connectionStatus]);\r\n\r\n  const sendMessage = async () => {\r\n    if (!messageText.trim()) return;\r\n\r\n    const newMessage: Message = {\r\n      id: Date.now().toString(),\r\n      message: messageText,\r\n      timestamp: new Date().toISOString(),\r\n      from: 'desktop-client',\r\n      type: 'sent'\r\n    };\r\n\r\n    setMessages(prev => [...prev, newMessage]);\r\n    setMessageText('');\r\n\r\n    try {\r\n    // Send to StillMe AI via HTTP POST\r\n    const response = await fetch('http://localhost:8000/send-message', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        target: 'stillme-ai',\r\n        from: 'desktop-client',\r\n        message: messageText,\r\n        timestamp: new Date().toISOString()\r\n      })\r\n    });\r\n\r\n      if (response.ok) {\r\n        console.log('âœ… Message sent successfully');\r\n      } else {\r\n        console.error('âŒ Failed to send message');\r\n      }\r\n    } catch (error) {\r\n      console.error('âŒ Error sending message:', error);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      sendMessage();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      {/* Header */}\r\n      <div className=\"header\">\r\n        <div className=\"header-content\">\r\n          <div className=\"logo\">\r\n            <div className=\"logo-shield\">\r\n              <span className=\"logo-s\">S</span>\r\n            </div>\r\n            <div className=\"logo-text\">\r\n              <h1>StillMe AI</h1>\r\n              <p>Desktop Chat</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"status\">\r\n            <div className={`status-indicator ${connectionStatus}`}></div>\r\n            <span className=\"status-text\">{wsStatus}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Messages */}\r\n      <div className=\"messages-container\">\r\n        {messages.length === 0 ? (\r\n          <div className=\"empty-state\">\r\n            <div className=\"empty-icon\">ðŸ’¬</div>\r\n            <h3>Welcome to StillMe AI Chat</h3>\r\n            <p>Start a conversation with your mobile device!</p>\r\n          </div>\r\n        ) : (\r\n          messages.map((msg) => (\r\n            <div key={msg.id} className={`message ${msg.type}`}>\r\n              <div className=\"message-content\">\r\n                <div className=\"message-text\">{msg.message}</div>\r\n                <div className=\"message-time\">\r\n                  {new Date(msg.timestamp).toLocaleTimeString()}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      {/* Input */}\r\n      <div className=\"input-container\">\r\n        <div className=\"input-wrapper\">\r\n          <textarea\r\n            value={messageText}\r\n            onChange={(e) => setMessageText(e.target.value)}\r\n            onKeyPress={handleKeyPress}\r\n            placeholder=\"Type your message here...\"\r\n            className=\"message-input\"\r\n            rows={1}\r\n          />\r\n          <button\r\n            onClick={sendMessage}\r\n            disabled={!messageText.trim()}\r\n            className=\"send-button\"\r\n          >\r\n            âž¤\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAO,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAUnB,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAY,EAAE,CAAC;EACvD,MAAM,CAACS,WAAW,EAAEC,cAAc,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACW,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGZ,QAAQ,CAA8C,YAAY,CAAC;EACnH,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,eAAe,CAAC;EACzD,MAAMe,cAAc,GAAGb,MAAM,CAAiB,IAAI,CAAC;EACnD,MAAMc,KAAK,GAAGd,MAAM,CAAmB,IAAI,CAAC;;EAE5C;EACA,MAAMe,cAAc,GAAGA,CAAA,KAAM;IAAA,IAAAC,qBAAA;IAC3B,CAAAA,qBAAA,GAAAH,cAAc,CAACI,OAAO,cAAAD,qBAAA,uBAAtBA,qBAAA,CAAwBE,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EAChE,CAAC;EAEDpB,SAAS,CAAC,MAAM;IACdgB,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACV,QAAQ,CAAC,CAAC;;EAEd;EACAN,SAAS,CAAC,MAAM;IACd,MAAMqB,gBAAgB,GAAGA,CAAA,KAAM;MAC7B,IAAI;QACF,MAAMC,EAAE,GAAG,IAAIC,SAAS,CAAC,uCAAuC,CAAC;QACjER,KAAK,CAACG,OAAO,GAAGI,EAAE;QAElBA,EAAE,CAACE,MAAM,GAAG,MAAM;UAChBC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;UAC5Cf,mBAAmB,CAAC,WAAW,CAAC;UAChCE,WAAW,CAAC,sBAAsB,CAAC;;UAEnC;UACA,MAAMc,aAAsB,GAAG;YAC7BC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;YACzBC,OAAO,EAAE,4CAA4C;YACrDC,SAAS,EAAE,IAAIJ,IAAI,CAAC,CAAC,CAACK,WAAW,CAAC,CAAC;YACnCC,IAAI,EAAE,QAAQ;YACdC,IAAI,EAAE;UACR,CAAC;UACD7B,WAAW,CAAC8B,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEV,aAAa,CAAC,CAAC;QAC/C,CAAC;QAEDL,EAAE,CAACgB,SAAS,GAAIC,KAAK,IAAK;UACxB,IAAI;YACF,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,KAAK,CAACC,IAAI,CAAC;YACnCf,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEc,IAAI,CAAC;YAEzC,IAAIA,IAAI,CAACJ,IAAI,KAAK,SAAS,EAAE;cAC3B,MAAMO,UAAmB,GAAG;gBAC1Bf,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,GAAGa,IAAI,CAACC,MAAM,CAAC,CAAC;gBACzCb,OAAO,EAAEQ,IAAI,CAACA,IAAI,CAACR,OAAO;gBAC1BC,SAAS,EAAEO,IAAI,CAACP,SAAS,IAAI,IAAIJ,IAAI,CAAC,CAAC,CAACK,WAAW,CAAC,CAAC;gBACrDC,IAAI,EAAEK,IAAI,CAACL,IAAI,IAAI,eAAe;gBAClCC,IAAI,EAAE;cACR,CAAC;cACD7B,WAAW,CAAC8B,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEM,UAAU,CAAC,CAAC;YAC5C;UACF,CAAC,CAAC,OAAOG,KAAK,EAAE;YACdrB,OAAO,CAACqB,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;UAClD;QACF,CAAC;QAEDxB,EAAE,CAACyB,OAAO,GAAG,MAAM;UACjBtB,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;UAC/Cf,mBAAmB,CAAC,cAAc,CAAC;UACnCE,WAAW,CAAC,2BAA2B,CAAC;;UAExC;UACA,MAAMc,aAAsB,GAAG;YAC7BC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;YACzBC,OAAO,EAAE,uDAAuD;YAChEC,SAAS,EAAE,IAAIJ,IAAI,CAAC,CAAC,CAACK,WAAW,CAAC,CAAC;YACnCC,IAAI,EAAE,QAAQ;YACdC,IAAI,EAAE;UACR,CAAC;UACD7B,WAAW,CAAC8B,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEV,aAAa,CAAC,CAAC;;UAE7C;UACAqB,UAAU,CAAC3B,gBAAgB,EAAE,IAAI,CAAC;QACpC,CAAC;QAEDC,EAAE,CAAC2B,OAAO,GAAIH,KAAK,IAAK;UACtBrB,OAAO,CAACqB,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;UAC1CnC,mBAAmB,CAAC,cAAc,CAAC;UACnCE,WAAW,CAAC,kBAAkB,CAAC;QACjC,CAAC;MAEH,CAAC,CAAC,OAAOiC,KAAK,EAAE;QACdrB,OAAO,CAACqB,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;QACtDnC,mBAAmB,CAAC,cAAc,CAAC;QACnCE,WAAW,CAAC,mBAAmB,CAAC;MAClC;IACF,CAAC;IAEDQ,gBAAgB,CAAC,CAAC;;IAElB;IACA,OAAO,MAAM;MACX,IAAIN,KAAK,CAACG,OAAO,EAAE;QACjBH,KAAK,CAACG,OAAO,CAACgC,KAAK,CAAC,CAAC;MACvB;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAlD,SAAS,CAAC,MAAM;IACd,IAAIU,gBAAgB,KAAK,WAAW,EAAE;IAEtC,MAAMyC,eAAe,GAAG,MAAAA,CAAA,KAAY;MAClC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,+CAA+C,CAAC;QAC7E,IAAID,QAAQ,CAACE,EAAE,EAAE;UACf,MAAMd,IAAI,GAAG,MAAMY,QAAQ,CAACG,IAAI,CAAC,CAAC;UAClC,IAAIf,IAAI,CAAClC,QAAQ,IAAIkC,IAAI,CAAClC,QAAQ,CAACkD,MAAM,GAAG,CAAC,EAAE;YAC7ChB,IAAI,CAAClC,QAAQ,CAACmD,OAAO,CAAEC,GAAQ,IAAK;cAClC,MAAMf,UAAmB,GAAG;gBAC1Bf,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,GAAGa,IAAI,CAACC,MAAM,CAAC,CAAC;gBACzCb,OAAO,EAAE0B,GAAG,CAAC1B,OAAO;gBACpBC,SAAS,EAAEyB,GAAG,CAACzB,SAAS;gBACxBE,IAAI,EAAEuB,GAAG,CAACvB,IAAI;gBACdC,IAAI,EAAE;cACR,CAAC;cACD7B,WAAW,CAAC8B,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEM,UAAU,CAAC,CAAC;YAC5C,CAAC,CAAC;UACJ;QACF;MACF,CAAC,CAAC,OAAOG,KAAK,EAAE;QACdrB,OAAO,CAACqB,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;MAC1C;IACF,CAAC;IAED,MAAMa,QAAQ,GAAGC,WAAW,CAACT,eAAe,EAAE,IAAI,CAAC;IACnD,OAAO,MAAMU,aAAa,CAACF,QAAQ,CAAC;EACtC,CAAC,EAAE,CAACjD,gBAAgB,CAAC,CAAC;EAEtB,MAAMoD,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI,CAACtD,WAAW,CAACuD,IAAI,CAAC,CAAC,EAAE;IAEzB,MAAMpB,UAAmB,GAAG;MAC1Bf,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;MACzBC,OAAO,EAAExB,WAAW;MACpByB,SAAS,EAAE,IAAIJ,IAAI,CAAC,CAAC,CAACK,WAAW,CAAC,CAAC;MACnCC,IAAI,EAAE,gBAAgB;MACtBC,IAAI,EAAE;IACR,CAAC;IAED7B,WAAW,CAAC8B,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEM,UAAU,CAAC,CAAC;IAC1ClC,cAAc,CAAC,EAAE,CAAC;IAElB,IAAI;MACJ;MACA,MAAM2C,QAAQ,GAAG,MAAMC,KAAK,CAAC,oCAAoC,EAAE;QACjEW,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEzB,IAAI,CAAC0B,SAAS,CAAC;UACnBC,MAAM,EAAE,YAAY;UACpBjC,IAAI,EAAE,gBAAgB;UACtBH,OAAO,EAAExB,WAAW;UACpByB,SAAS,EAAE,IAAIJ,IAAI,CAAC,CAAC,CAACK,WAAW,CAAC;QACpC,CAAC;MACH,CAAC,CAAC;MAEA,IAAIkB,QAAQ,CAACE,EAAE,EAAE;QACf7B,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;MAC5C,CAAC,MAAM;QACLD,OAAO,CAACqB,KAAK,CAAC,0BAA0B,CAAC;MAC3C;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdrB,OAAO,CAACqB,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAClD;EACF,CAAC;EAED,MAAMuB,cAAc,GAAIC,CAAsB,IAAK;IACjD,IAAIA,CAAC,CAACC,GAAG,KAAK,OAAO,IAAI,CAACD,CAAC,CAACE,QAAQ,EAAE;MACpCF,CAAC,CAACG,cAAc,CAAC,CAAC;MAClBX,WAAW,CAAC,CAAC;IACf;EACF,CAAC;EAED,oBACE3D,OAAA;IAAKuE,SAAS,EAAC,KAAK;IAAAC,QAAA,gBAElBxE,OAAA;MAAKuE,SAAS,EAAC,QAAQ;MAAAC,QAAA,eACrBxE,OAAA;QAAKuE,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7BxE,OAAA;UAAKuE,SAAS,EAAC,MAAM;UAAAC,QAAA,gBACnBxE,OAAA;YAAKuE,SAAS,EAAC,aAAa;YAAAC,QAAA,eAC1BxE,OAAA;cAAMuE,SAAS,EAAC,QAAQ;cAAAC,QAAA,EAAC;YAAC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9B,CAAC,eACN5E,OAAA;YAAKuE,SAAS,EAAC,WAAW;YAAAC,QAAA,gBACxBxE,OAAA;cAAAwE,QAAA,EAAI;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACnB5E,OAAA;cAAAwE,QAAA,EAAG;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACN5E,OAAA;UAAKuE,SAAS,EAAC,QAAQ;UAAAC,QAAA,gBACrBxE,OAAA;YAAKuE,SAAS,EAAE,oBAAoBhE,gBAAgB;UAAG;YAAAkE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC9D5E,OAAA;YAAMuE,SAAS,EAAC,aAAa;YAAAC,QAAA,EAAE/D;UAAQ;YAAAgE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGN5E,OAAA;MAAKuE,SAAS,EAAC,oBAAoB;MAAAC,QAAA,GAChCrE,QAAQ,CAACkD,MAAM,KAAK,CAAC,gBACpBrD,OAAA;QAAKuE,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1BxE,OAAA;UAAKuE,SAAS,EAAC,YAAY;UAAAC,QAAA,EAAC;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACpC5E,OAAA;UAAAwE,QAAA,EAAI;QAA0B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACnC5E,OAAA;UAAAwE,QAAA,EAAG;QAA6C;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjD,CAAC,GAENzE,QAAQ,CAAC0E,GAAG,CAAEtB,GAAG,iBACfvD,OAAA;QAAkBuE,SAAS,EAAE,WAAWhB,GAAG,CAACtB,IAAI,EAAG;QAAAuC,QAAA,eACjDxE,OAAA;UAAKuE,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC9BxE,OAAA;YAAKuE,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAEjB,GAAG,CAAC1B;UAAO;YAAA4C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACjD5E,OAAA;YAAKuE,SAAS,EAAC,cAAc;YAAAC,QAAA,EAC1B,IAAI9C,IAAI,CAAC6B,GAAG,CAACzB,SAAS,CAAC,CAACgD,kBAAkB,CAAC;UAAC;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC,GANErB,GAAG,CAAC9B,EAAE;QAAAgD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAOX,CACN,CACF,eACD5E,OAAA;QAAK+E,GAAG,EAAEpE;MAAe;QAAA8D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC,eAGN5E,OAAA;MAAKuE,SAAS,EAAC,iBAAiB;MAAAC,QAAA,eAC9BxE,OAAA;QAAKuE,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5BxE,OAAA;UACEgF,KAAK,EAAE3E,WAAY;UACnB4E,QAAQ,EAAGd,CAAC,IAAK7D,cAAc,CAAC6D,CAAC,CAACF,MAAM,CAACe,KAAK,CAAE;UAChDE,UAAU,EAAEhB,cAAe;UAC3BiB,WAAW,EAAC,2BAA2B;UACvCZ,SAAS,EAAC,eAAe;UACzBa,IAAI,EAAE;QAAE;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,eACF5E,OAAA;UACEqF,OAAO,EAAE1B,WAAY;UACrB2B,QAAQ,EAAE,CAACjF,WAAW,CAACuD,IAAI,CAAC,CAAE;UAC9BW,SAAS,EAAC,aAAa;UAAAC,QAAA,EACxB;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC1E,EAAA,CArPQD,GAAG;AAAAsF,EAAA,GAAHtF,GAAG;AAuPZ,eAAeA,GAAG;AAAC,IAAAsF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}