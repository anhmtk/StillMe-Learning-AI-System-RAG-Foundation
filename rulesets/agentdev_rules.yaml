# AgentDev Rules Configuration
# Common rules for code quality and best practices

rules:
  - name: "import_missing"
    pattern: "import\\s+\\w+"
    description: "Missing import statement"
    severity: "medium"
    fix_action: "add_import"
    enabled: true
    
  - name: "pytest_tmp_path"
    pattern: "def\\s+test_.*\\(.*tmp_path.*\\):"
    description: "Use pytest tmp_path fixture"
    severity: "low"
    fix_action: "add_tmp_path_fixture"
    enabled: true
    
  - name: "sqlalchemy_session"
    pattern: "session\\.query\\("
    description: "Use SQLAlchemy session properly"
    severity: "medium"
    fix_action: "fix_session_usage"
    enabled: true
    
  - name: "numpy_dtype"
    pattern: "dtype\\s*="
    description: "Specify numpy dtype explicitly"
    severity: "low"
    fix_action: "add_dtype_specification"
    enabled: true
    
  - name: "pathlib_vs_os"
    pattern: "os\\.path\\."
    description: "Use pathlib instead of os.path"
    severity: "low"
    fix_action: "convert_to_pathlib"
    enabled: true
    
  - name: "optional_none_check"
    pattern: "if\\s+\\w+\\s+is\\s+None:"
    description: "Check for None before using optional values"
    severity: "medium"
    fix_action: "add_none_check"
    enabled: true

# Rule scoring and selection
scoring:
  severity_weights:
    high: 3
    medium: 2
    low: 1
  
  hit_threshold: 3
  time_decay_factor: 0.9