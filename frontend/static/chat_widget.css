/* CRITICAL: Ensure body/html take full viewport */
            html, body {
                margin: 0;
                padding: 0;
                width: 100%;
                height: 100%;
                overflow: hidden;
            }
            
            /* Overlay backdrop - covers dashboard when chat is open */
            #stillme-chat-overlay {
                position: fixed !important;
                top: 0 !important;
                left: 0 !important;
                width: 100vw !important;
                height: 100vh !important;
                background: rgba(0, 0, 0, 0.3) !important;
                z-index: 999999 !important;
                display: {OVERLAY_DISPLAY} !important;
                pointer-events: auto !important;
            }
            
            #stillme-chat-widget {
                position: fixed !important;
                z-index: 1000000 !important;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                pointer-events: none !important;
            }
            
            #stillme-chat-widget * {
                pointer-events: auto !important;
            }
            
            #stillme-chat-button {
                position: fixed !important;
                bottom: 20px !important;
                right: 20px !important;
                width: 60px !important;
                height: 60px !important;
                border-radius: 50% !important;
                background: linear-gradient(135deg, #46b3ff 0%, #1e90ff 100%) !important;
                border: 3px solid #ffffff !important;
                color: white !important;
                font-size: 28px !important;
                cursor: pointer !important;
                box-shadow: 0 4px 20px rgba(70, 179, 255, 0.6), 0 0 0 4px rgba(70, 179, 255, 0.2) !important;
                transition: all 0.3s ease !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                z-index: 2147483647 !important; /* Maximum z-index value */
                visibility: visible !important;
                opacity: 1 !important;
                pointer-events: auto !important;
                margin: 0 !important;
                padding: 0 !important;
            }
            
            #stillme-chat-button:hover {
                transform: scale(1.15) !important;
                box-shadow: 0 6px 24px rgba(70, 179, 255, 0.8), 0 0 0 6px rgba(70, 179, 255, 0.3) !important;
            }
            
            /* Ensure button is always visible - even if panel is open */
            #stillme-chat-button:not(:disabled) {
                display: flex !important;
                visibility: visible !important;
                opacity: 1 !important;
            }
            
            #stillme-chat-panel {
                position: fixed !important;
                top: 50% !important;
                left: 50% !important;
                transform: translate(-50%, -50%) !important;
                width: 600px !important;
                height: 700px !important;
                min-width: 300px !important; /* Reduced for better screenshot capability */
                min-height: 300px !important; /* Reduced for better screenshot capability */
                max-width: 95vw !important;
                max-height: 95vh !important;
                background: #1e1e1e !important; /* Cursor-like dark background */
                border-radius: 8px !important; /* Smaller radius like Cursor */
                box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.1) !important; /* Subtle shadow like Cursor */
                display: {PANEL_DISPLAY} !important;
                flex-direction: column !important;
                border: 1px solid rgba(255, 255, 255, 0.1) !important; /* Subtle border like Cursor */
                overflow: hidden !important;
                resize: none !important; /* Disable browser native resize - we use custom handles */
                z-index: 1000000 !important;
                /* CRITICAL: Ensure proper flex layout */
                align-items: stretch !important;
                /* CRITICAL: Enable dragging */
                cursor: default !important;
            }
            
            /* Dragging state */
            #stillme-chat-panel.dragging {
                cursor: move !important;
                user-select: none !important;
            }
            
            /* Fullscreen mode */
            #stillme-chat-panel.fullscreen {
                top: 0 !important;
                left: 0 !important;
                transform: none !important;
                width: 100vw !important;
                height: 100vh !important;
                max-width: 100vw !important;
                max-height: 100vh !important;
                border-radius: 0 !important;
                resize: none !important;
            }
            
            /* Minimized mode - chỉ hiển thị header */
            #stillme-chat-panel.minimized {
                height: auto !important;
                min-height: auto !important;
                max-height: 60px !important;
            }
            
            #stillme-chat-panel.minimized .stillme-chat-messages,
            #stillme-chat-panel.minimized .stillme-chat-input-container {
                display: none !important;
            }
            
            /* Force visible class (fallback if inline style doesn't work) */
            #stillme-chat-panel.force-visible {
                display: flex !important;
                visibility: visible !important;
                opacity: 1 !important;
            }
            
            #stillme-chat-overlay.force-visible {
                display: block !important;
                visibility: visible !important;
                opacity: 1 !important;
            }
            
            /* Resize handles - 8 handles (4 corners + 4 edges) - Cursor style */
            .resize-handle {
                position: absolute;
                background: transparent;
                z-index: 1000001 !important; /* CRITICAL: Higher than panel z-index (1000000) to ensure it's always on top */
                pointer-events: auto !important; /* Ensure handles are clickable */
                user-select: none !important; /* Prevent text selection when resizing */
            }
            
            /* Corner handles - larger for easier grabbing (increased for better UX) */
            .resize-handle.nw { top: 0; left: 0; width: 24px; height: 24px; cursor: nw-resize; }
            .resize-handle.ne { top: 0; right: 0; width: 24px; height: 24px; cursor: ne-resize; }
            .resize-handle.sw { bottom: 0; left: 0; width: 24px; height: 24px; cursor: sw-resize; }
            .resize-handle.se { bottom: 0; right: 0; width: 24px; height: 24px; cursor: se-resize; }
            
            /* Edge handles - wider for easier grabbing (increased for better UX) */
            .resize-handle.n { top: 0; left: 24px; right: 24px; height: 16px; cursor: n-resize; }
            .resize-handle.s { bottom: 0; left: 24px; right: 24px; height: 16px; cursor: s-resize; }
            /* CRITICAL: Reduce right edge handle width to avoid overlap with scrollbar */
            /* Scrollbar is 6px wide, so we only use 8px for resize handle (leaving 6px for scrollbar) */
            .resize-handle.e { top: 24px; bottom: 24px; right: 0; width: 8px; cursor: e-resize; }
            /* CRITICAL: Exclude scrollbar area (rightmost 6px) from resize handle */
            /* Use clip-path to exclude the scrollbar area */
            .resize-handle.e::before {
                content: '';
                position: absolute;
                top: 0;
                right: 0;
                width: 6px;
                height: 100%;
                pointer-events: none;
            }
            .resize-handle.w { top: 24px; bottom: 24px; left: 0; width: 16px; cursor: w-resize; }
            
            /* CRITICAL: Fix scrollbar vs resize handle conflict */
            /* Problem: Resize handle .e (right edge) overlaps with scrollbar (6px wide) */
            /* Solution: 
               1. Reduced resize handle width to 8px (scrollbar is 6px)
               2. Scrollbar has higher z-index in its area
               3. JavaScript detects scrollbar area and disables resize
            */
            .stillme-chat-messages {
                position: relative;
            }
            .stillme-chat-messages::-webkit-scrollbar {
                width: 6px;
                pointer-events: auto !important; /* Ensure scrollbar captures events */
                z-index: 1000002 !important; /* Higher than resize handle (1000001) */
            }
            .stillme-chat-messages::-webkit-scrollbar-track {
                pointer-events: auto !important;
            }
            .stillme-chat-messages::-webkit-scrollbar-thumb {
                pointer-events: auto !important;
            }
            
            /* Visual resize indicator - more visible like Cursor */
            .resize-handle:hover {
                background: rgba(70, 179, 255, 0.5) !important; /* More visible on hover */
            }
            
            /* Show resize handles more clearly - add subtle border on hover */
            .resize-handle:hover::after {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 4px;
                height: 4px;
                background: rgba(70, 179, 255, 0.8);
                border-radius: 50%;
            }
            
            /* Edge handles show double arrow on hover */
            .resize-handle.n:hover::after,
            .resize-handle.s:hover::after {
                content: '⇅';
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                color: rgba(70, 179, 255, 0.9);
                font-size: 14px;
                width: auto;
                height: auto;
            }
            
            .resize-handle.e:hover::after,
            .resize-handle.w:hover::after {
                content: '⇄';
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                color: rgba(70, 179, 255, 0.9);
                font-size: 14px;
                width: auto;
                height: auto;
            }
            
            /* Disable resize when minimized or fullscreen */
            #stillme-chat-panel.minimized .resize-handle,
            #stillme-chat-panel.fullscreen .resize-handle {
                display: none !important;
            }
            
            .stillme-chat-header {
                background: #252526 !important; /* Cursor-like header background */
                padding: 12px 16px !important; /* Tighter padding like Cursor */
                border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important; /* Subtle border */
                display: flex !important;
                justify-content: space-between !important;
                align-items: center !important;
                cursor: move !important; /* Indicate draggable */
                user-select: none !important; /* Prevent text selection when dragging */
                flex-shrink: 0 !important; /* Don't shrink header */
                order: 1 !important; /* Header first */
            }
            
            .stillme-chat-header h3 {
                margin: 0;
                color: #cccccc !important; /* Cursor-like text color */
                font-size: 14px !important; /* Smaller font like Cursor */
                font-weight: 500 !important; /* Medium weight like Cursor */
            }
            
            #stillme-chat-status {
                color: #858585 !important;
                font-size: 11px !important;
                font-style: italic !important;
                margin-top: 4px !important;
                white-space: nowrap !important;
                overflow: hidden !important;
                text-overflow: ellipsis !important;
            }
            
            .stillme-chat-header-buttons {
                display: flex;
                gap: 8px;
                align-items: center;
            }
            
            .stillme-chat-header-btn {
                background: none;
                border: none;
                color: #ffffff;
                font-size: 18px;
                cursor: pointer;
                padding: 4px 8px;
                width: 32px;
                height: 32px;
                display: flex;
                align-items: center;
                justify-content: center;
                border-radius: 4px;
                transition: background 0.2s;
            }
            
            .stillme-chat-header-btn:hover {
                background: #3a3d47;
            }
            
            .stillme-chat-close {
                background: none;
                border: none;
                color: #ffffff;
                font-size: 24px;
                cursor: pointer;
                padding: 0;
                width: 30px;
                height: 30px;
                display: flex;
                align-items: center;
                justify-content: center;
                border-radius: 4px;
                transition: background 0.2s;
            }
            
            .stillme-chat-close:hover {
                background: #3a3d47;
            }
            
            .stillme-chat-messages {
                flex: 1 1 auto !important; /* Take available space */
                overflow-y: auto !important;
                padding: 16px !important; /* Tighter padding like Cursor */
                display: flex !important;
                flex-direction: column !important;
                gap: 12px !important;
                background: #1e1e1e !important; /* Match panel background */
                min-height: 0 !important; /* CRITICAL: Allow flex item to shrink */
                order: 2 !important; /* Messages second */
            }
            
            .stillme-chat-message {
                padding: 10px 14px !important; /* Tighter padding like Cursor */
                border-radius: 6px !important; /* Smaller radius like Cursor */
                max-width: 80%;
                word-wrap: break-word;
                line-height: 1.6 !important; /* Better line height for readability */
            }
            
            .stillme-chat-message.assistant {
                /* Markdown support for assistant messages */
                /* HTML rendering with <p>, <br>, <strong>, <ul>, <h2>, <h3>, <table> */
                white-space: normal !important; /* CRITICAL: Allow line breaks */
            }
            
            .stillme-chat-message.assistant p {
                margin: 8px 0 !important; /* Spacing for p tags */
                display: block !important; /* CRITICAL: Ensure p tags are block elements for line breaks */
                line-height: 1.6 !important; /* Better line height for readability */
                white-space: normal !important; /* CRITICAL: Allow line breaks inside p tags */
            }
            
            .stillme-chat-message.assistant br {
                display: block !important; /* CRITICAL: Ensure br tags create line breaks */
                content: "" !important;
                margin-bottom: 0.5em !important;
            }
            
            /* CRITICAL: Ensure first and last p tags have proper spacing */
            .stillme-chat-message.assistant p:first-child {
                margin-top: 0 !important;
            }
            
            .stillme-chat-message.assistant p:last-child {
                margin-bottom: 0 !important;
            }
            
            .stillme-chat-message.assistant h2 {
                margin: 16px 0 8px 0 !important;
                font-size: 1.2em !important;
                font-weight: 600 !important;
                color: #cccccc !important;
            }
            
            .stillme-chat-message.assistant h3 {
                margin: 12px 0 6px 0 !important;
                font-size: 1.1em !important;
                font-weight: 600 !important;
                color: #cccccc !important;
            }
            
            .stillme-chat-message.assistant ul {
                margin: 8px 0 !important;
                padding-left: 20px !important;
            }
            
            .stillme-chat-message.assistant li {
                margin: 4px 0 !important;
            }
            
            .stillme-chat-message.assistant strong {
                font-weight: 600 !important;
                color: #ffffff !important;
            }
            
            .stillme-chat-message.user {
                background: #0e639c !important; /* Cursor-like blue */
                color: #ffffff !important;
                align-self: flex-end;
                margin-left: auto;
            }
            
            .stillme-chat-message.assistant {
                background: #2d2d30 !important; /* Cursor-like dark gray */
                color: #cccccc !important; /* Cursor-like text color */
                align-self: flex-start;
            }
            
            .stillme-chat-input-container {
                padding: 12px 16px !important; /* Tighter padding like Cursor */
                border-top: 1px solid rgba(255, 255, 255, 0.15) !important; /* More visible border to separate from messages */
                background: #252526 !important; /* Slightly different background like Cursor */
                flex-shrink: 0 !important; /* Don't shrink input area */
                flex-grow: 0 !important; /* Don't grow */
                order: 3 !important; /* Input last (at bottom) */
                margin-top: auto !important; /* Push to bottom - CRITICAL */
            }
            
            .stillme-chat-input-wrapper {
                display: flex;
                gap: 8px;
            }
            
            #stillme-chat-input {
                flex: 1;
                padding: 10px 14px !important; /* Tighter padding like Cursor */
                background: #2d2d30 !important; /* Cursor-like input background */
                border: 1px solid rgba(255, 255, 255, 0.1) !important; /* Subtle border */
                border-radius: 4px !important; /* Smaller radius like Cursor */
                color: #cccccc !important; /* Cursor-like text color */
                font-size: 14px !important;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
                resize: none;
            }
            
            #stillme-chat-input:focus {
                outline: none !important;
                border-color: #0e639c !important; /* Cursor-like focus color */
            }
            
            #stillme-chat-input::placeholder {
                color: #858585 !important; /* Cursor-like placeholder color */
            }
            
            #stillme-chat-send {
                padding: 12px 24px;
                background: #46b3ff;
                border: none;
                border-radius: 8px;
                color: white;
                font-weight: 600;
                cursor: pointer;
                transition: background 0.2s;
            }
            
            #stillme-chat-send:hover {
                background: #1e90ff;
            }
            
            #stillme-chat-send:disabled {
                background: #3a3d47;
                cursor: not-allowed;
            }
            
            /* Scrollbar styling */
            .stillme-chat-messages::-webkit-scrollbar {
                width: 6px;
            }
            
            .stillme-chat-messages::-webkit-scrollbar-track {
                background: #0e1117;
            }
            
            .stillme-chat-messages::-webkit-scrollbar-thumb {
                background: #262730;
                border-radius: 3px;
            }
            
            .stillme-chat-messages::-webkit-scrollbar-thumb:hover {
                background: #3a3d47;
            }